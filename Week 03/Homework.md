# Week 3 


Notes 


Hackers use reconnaissance as the first step in an effective attack
Seeing what is on the "other side of the hill" is crucial to decide what type of attack to launch
Generally, goals of reconnaissance on a target network are to discover:
IP addresses of hosts
Accessible UDP and TCP ports
OS type

Footprinting/Fingerprinting steps
Information Gathering
accumulating data regarding a specific network environment, usually for the purpose of finding ways to intrude into the environment
Locate the network
What addresses can be targeted and are available for additional scanning and analysis
Identify active machines
Which machine is actively connected to the network and reachable
Open ports and underlying applications
Which ports and applications are accessible
OS Fingerprinting
Identifying targeted Oss as well as systems response
Network mapping
Create blueprint of organization



Information Gathering
Get data regarding network environment such as
Organization web site, Location, contact person, Phone number
Common Tools
Registrar query : whois
Domain name and resource lookup
Search Tools

Locate the network range
What range of IP addresses are available for scanning and further enumeration
Common Tools : whois

7 Tool: WHOIS Search WhoIs – Query of Internet Registries
Ref:
AfriNIC – Africa
APNIC - Asia/Pacific
ARIN – North America
LACNIC - Central and South America
RIPE NCC – Europe, Middle East, Central Asia
InterNIC– ICANN Public Domain Name Registration Info
3rd Party Whois Tools
Geektools -
DomainTools –
DNSStuff –

Google, Yahoo, Live.com, etc.
Gather information about a targeted organization
Evaluate web sites for known security issues
Identify files that are accidentally exposed to the public



Tool: – Google operators
Google Advanced Operators
AND: “+”
OR: “|”
Synonym: “~”
site:
inurl:robots.txt
link:
intitle:“jefferson wells”
filetype:xls

Tool: NSLOOKUP Queries Domain Name Server information
IP and Domain Name Mapping
Zone Transfer – Dumps entire table
Check mail server

Zone Transfer – Dumps entire table
$ nslookup
> server = A.B.C.D
> ls somedomain.com

Tool: NSLOOKUP MX record 
$ nslookup 
> set type = MX
> somedomain.com






Network Identifier Tools
Identifying active computers and services
Common Tools
ping, ping6
help verifying whether a host is active
traceroute, traceroute6
determine the route to a node

ping [hostname|ip_address]
ping6 [hostname|ip_address]
ping -R [hostname|ip_address]

Tool: traceroute
Tracert      Windows
Traceroute      Unix

Tool: How Traceroute work
Launch a probe packet towards DST, with a TTL of 1
Every router hop decrements the IP TTL of the packet by 1
When the TTL hits 0, packet is dropped, router sends ICMP TTL Exceed packet to SRC with the original probe packet as payload
SRC receives this ICMP message, displays a traceroute “hop”
Repeat from step 1, with TTL incremented by 1 each time, until..
DST host receives probe, returns ICMP Dest Unreachable

Tool: Router Type/Role
Knowing the role of a router can be useful
But every network is different, and uses different naming conventions
May not always follow naming rules
Generally speaking, May need guessing the context and get a basic understanding of the roles
Core routers–CR, Core, GBR, BB
Peering routers–BR, Border, Edge, IGR, Peer
Customer routers–AR, Aggr, Cust, CAR, GW


Tool: Sample Traceroute
$ traceroute $ traceroute

Identifying Active Machines
Attackers will want to know if machines are alive before they attempt to attack. One of the most basic methods of identifying active machines is to perform a sweep
Common Tools
ping, traceroute
Network scanning tools
nmap, superscan

Finding Open Ports Open services Common tools Port scanning tools
nmap, superscan

OS Fingerprinting Passive fingerprint 
Active Fingerprint
Sniffing technique
Examine packets for certain characteristics such as
The IP TTL value
The TCP Window Size
The IP DF Option
The IP Type of Service (TOS) Option
Active Fingerprint
Injects the packets into the network
Examines the subtle differences that exist between different vendor implementations of the TCP/IP stack
Common tools : nmap

Mapping the Network Gained enough information to build network map
Network mapping provides the hacker with a blueprint of the organization.
May use manual or automated ways to compile this information


There is no homework this week.  Sit back and enjoy the lesson!
